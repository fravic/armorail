package septenary.duelparty {    public class FighterFactory {        public static const TIER_PRICING:Array = [25, 80, 150];        private static const FIGHTERS_BY_TIER:Array = [            ["Mortar", "Flamethrower", "GatlingGun", "PulseGun", "ExplosiveCrossbow", "MetalShield"],            ["RailGun", "LightningGun", "MachineGun", "Missiles", "EnergyStore", "ShieldGun"],            ["TacticalNuke", "MTHEL", "Rocket", "Neotank"]        ];        private static const PROBABILITY_PER_FIGHTER = [            [1000000, 10, 10, 10, 10, 7],            [10, 10, 10, 10, 10, 10],            [10, 10, 10, 10, 10, 10]        ];		        public static function randomFighterFromTier(tier:int):Fighter {            Utilities.assert(tier - 1 < FIGHTERS_BY_TIER.length, "Invalid tier ("+ tier +") selected!");            var tierFighters:Array = FIGHTERS_BY_TIER[tier - 1];            var totalTierWeight:int = 0;            for (var i:int = 0; i < PROBABILITY_PER_FIGHTER[tier - 1].length; i++) {                totalTierWeight += PROBABILITY_PER_FIGHTER[tier - 1][i];            }            var selectWeight:int = Math.round(Math.random() * totalTierWeight);            var fighterIndex:int = 0;            for (i = 0; i < PROBABILITY_PER_FIGHTER[tier - 1].length; i++) {                selectWeight -= PROBABILITY_PER_FIGHTER[tier - 1][i];                if (selectWeight <= 0) {                    fighterIndex = i;                    break;                }            }                        var type:String = tierFighters[fighterIndex];            var newFighter = FighterFactory["new" + type]();            return newFighter;        }        public static function newMortar():Fighter {            var fighter:Fighter = new Mortar();            fighter.fighterName = "Mortar";            fighter.attack = 4;            fighter.health = 12;            fighter.counter = 0;            fighter.bountyCoins = 10;            fighter.specialDesc = "A heavy cannon.  Can't counterattack.";			fighter.attackBehaviour = BattleBehaviours.mortarAttackBehaviour;            return fighter;        }        public static function newFlamethrower():Fighter {            var fighter:Fighter = new Mortar();            fighter.fighterName = "Flamethrower";            fighter.attack = 6;            fighter.health = 8;            fighter.counter = 1;            fighter.bountyCoins = 10;            return fighter;        }        public static function newGatlingGun():Fighter {            var fighter:Fighter = new Mortar();            fighter.fighterName = "Gatling Gun";            fighter.attack = 4;            fighter.health = 10;            fighter.counter = 7;            fighter.bountyCoins = 10;            return fighter;        }        public static function newPulseGun():Fighter {            var fighter:Fighter = new Mortar();            fighter.fighterName = "Pulse Gun";            fighter.attack = 4;            fighter.health = 6;            fighter.counter = 2;            fighter.bountyCoins = 10;            return fighter;        }        public static function newExplosiveCrossbow():Fighter {            var fighter:Fighter = new Mortar();            fighter.fighterName = "Explosive Crossbow";            fighter.attack = 7;            fighter.health = 2;            fighter.counter = 5;            fighter.bountyCoins = 10;            return fighter;        }        public static function newMetalShield():Fighter {            var fighter:Fighter = new Mortar();            fighter.fighterName = "Metal Shield";            fighter.attack = 0;            fighter.health = 24;            fighter.counter = 0;            fighter.bountyCoins = 10;            return fighter;        }        public static function newRailGun():Fighter {            var fighter:Fighter = new Mortar();            fighter.fighterName = "Rail Gun";            fighter.attack = 0;            fighter.health = 24;            fighter.counter = 0;            fighter.bountyCoins = 10;            return fighter;        }        public static function newLightningGun():Fighter {            var fighter:Fighter = new Mortar();            fighter.fighterName = "Lightning Gun";            fighter.attack = 0;            fighter.health = 24;            fighter.counter = 0;            fighter.bountyCoins = 10;            return fighter;        }        public static function newMachineGun():Fighter {            var fighter:Fighter = new Mortar();            fighter.fighterName = "Machine Gun";            fighter.attack = 0;            fighter.health = 24;            fighter.counter = 0;            fighter.bountyCoins = 10;            return fighter;        }        public static function newMissiles():Fighter {            var fighter:Fighter = new Mortar();            fighter.fighterName = "Missiles";            fighter.attack = 0;            fighter.health = 24;            fighter.counter = 0;            fighter.bountyCoins = 10;            return fighter;        }        public static function newEnergyStore():Fighter {            var fighter:Fighter = new Mortar();            fighter.fighterName = "Energy Store";            fighter.attack = 0;            fighter.health = 24;            fighter.counter = 0;            fighter.bountyCoins = 10;            return fighter;        }        public static function newShieldGun():Fighter {            var fighter:Fighter = new Mortar();            fighter.fighterName = "Shield Gun";            fighter.attack = 0;            fighter.health = 24;            fighter.counter = 0;            fighter.bountyCoins = 10;            return fighter;        }        public static function newTacticalNuke():Fighter {            var fighter:Fighter = new Mortar();            fighter.fighterName = "Tactical Nuke";            fighter.attack = 0;            fighter.health = 24;            fighter.counter = 0;            fighter.bountyCoins = 10;            return fighter;        }        public static function newMTHEL():Fighter {            var fighter:Fighter = new Mortar();            fighter.fighterName = "M.T.H.E.L.";            fighter.attack = 0;            fighter.health = 24;            fighter.counter = 0;            fighter.bountyCoins = 10;            return fighter;        }        public static function newRocket():Fighter {            var fighter:Fighter = new Mortar();            fighter.fighterName = "Rocket";            fighter.attack = 0;            fighter.health = 24;            fighter.counter = 0;            fighter.bountyCoins = 10;            return fighter;        }        public static function newNeotank():Fighter {            var fighter:Fighter = new Mortar();            fighter.fighterName = "Neotank";            fighter.attack = 0;            fighter.health = 24;            fighter.counter = 0;            fighter.bountyCoins = 10;            return fighter;        }    }}